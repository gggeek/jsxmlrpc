var Y,propertyCache,reClassNameCache,document,isOpera,isSafari,isIE,patterns,toCamel,getClassRegEx,getStyle,setStyle,testElement,getXY;Y=YAHOO.util,propertyCache={},reClassNameCache={},document=window.document,YAHOO.env._id_counter=YAHOO.env._id_counter||0,isOpera=YAHOO.env.ua.opera,isSafari=YAHOO.env.ua.webkit,YAHOO.env.ua.gecko,isIE=YAHOO.env.ua.ie,patterns={HYPHEN:/(-[a-z])/i,ROOT_TAG:/^body|html$/i},toCamel=function(property){if(!patterns.HYPHEN.test(property))return property;if(propertyCache[property])return propertyCache[property];for(var converted=property;patterns.HYPHEN.exec(converted);)converted=converted.replace(RegExp.$1,RegExp.$1.substr(1).toUpperCase());return propertyCache[property]=converted},getClassRegEx=function(className){var re=reClassNameCache[className];return re||(re=new RegExp("(?:^|\\s+)"+className+"(?:\\s+|$)"),reClassNameCache[className]=re),re},getStyle=document.defaultView&&document.defaultView.getComputedStyle?function(el,property){var value=null,computed=("float"==property&&(property="cssFloat"),document.defaultView.getComputedStyle(el,""));return computed&&(value=computed[toCamel(property)]),el.style[property]||value}:document.documentElement.currentStyle&&isIE?function(el,property){switch(toCamel(property)){case"opacity":var val=100;try{val=el.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(e){try{val=el.filters("alpha").opacity}catch(e){}}return val/100;case"float":property="styleFloat";default:val=el.currentStyle?el.currentStyle[property]:null;return el.style[property]||val}}:function(el,property){return el.style[property]},setStyle=isIE?function(el,property,val){switch(property){case"opacity":YAHOO.lang.isString(el.style.filter)&&(el.style.filter="alpha(opacity="+100*val+")",el.currentStyle&&el.currentStyle.hasLayout||(el.style.zoom=1));break;case"float":property="styleFloat";default:el.style[property]=val}}:function(el,property,val){el.style[property="float"==property?"cssFloat":property]=val},testElement=function(node,method){return node&&1==node.nodeType&&(!method||method(node))},YAHOO.util.Dom={get:function(el){if(el&&(el.nodeType||el.item))return el;if(YAHOO.lang.isString(el)||!el)return document.getElementById(el);if(el.length===undefined)return el;for(var c=[],i=0,len=el.length;i<len;++i)c[c.length]=Y.Dom.get(el[i]);return c},getStyle:function(el,property){property=toCamel(property);return Y.Dom.batch(el,function(element){return getStyle(element,property)},Y.Dom,!0)},setStyle:function(el,property,val){property=toCamel(property);Y.Dom.batch(el,function(element){setStyle(element,property,val)},Y.Dom,!0)},getXY:function(el){return Y.Dom.batch(el,function(el){return(null!==el.parentNode&&null!==el.offsetParent&&"none"!=this.getStyle(el,"display")||el==el.ownerDocument.body)&&getXY(el)},Y.Dom,!0)},getX:function(el){return Y.Dom.batch(el,function(el){return Y.Dom.getXY(el)[0]},Y.Dom,!0)},getY:function(el){return Y.Dom.batch(el,function(el){return Y.Dom.getXY(el)[1]},Y.Dom,!0)},setXY:function(el,pos,noRetry){Y.Dom.batch(el,function(el){var style_pos=this.getStyle(el,"position"),pageXY=("static"==style_pos&&(this.setStyle(el,"position","relative"),style_pos="relative"),this.getXY(el));if(!1===pageXY)return!1;var delta=[parseInt(this.getStyle(el,"left"),10),parseInt(this.getStyle(el,"top"),10)];isNaN(delta[0])&&(delta[0]="relative"==style_pos?0:el.offsetLeft),isNaN(delta[1])&&(delta[1]="relative"==style_pos?0:el.offsetTop),null!==pos[0]&&(el.style.left=pos[0]-pageXY[0]+delta[0]+"px"),null!==pos[1]&&(el.style.top=pos[1]-pageXY[1]+delta[1]+"px"),!noRetry&&(style_pos=this.getXY(el),null!==pos[0]&&style_pos[0]!=pos[0]||null!==pos[1]&&style_pos[1]!=pos[1])&&this.setXY(el,pos,!0)},Y.Dom,!0)},setX:function(el,x){Y.Dom.setXY(el,[x,null])},setY:function(el,y){Y.Dom.setXY(el,[null,y])},getRegion:function(el){return Y.Dom.batch(el,function(el){return(null!==el.parentNode&&null!==el.offsetParent&&"none"!=this.getStyle(el,"display")||el==document.body)&&Y.Region.getRegion(el)},Y.Dom,!0)},getClientWidth:function(){return Y.Dom.getViewportWidth()},getClientHeight:function(){return Y.Dom.getViewportHeight()},getElementsByClassName:function(className,tag,root,apply){if(tag=tag||"*",!(root=root?Y.Dom.get(root):document))return[];for(var nodes=[],elements=root.getElementsByTagName(tag),re=getClassRegEx(className),i=0,len=elements.length;i<len;++i)re.test(elements[i].className)&&(nodes[nodes.length]=elements[i],apply)&&apply.call(elements[i],elements[i]);return nodes},hasClass:function(el,className){var re=getClassRegEx(className);return Y.Dom.batch(el,function(el){return re.test(el.className)},Y.Dom,!0)},addClass:function(el,className){return Y.Dom.batch(el,function(el){return!this.hasClass(el,className)&&(el.className=YAHOO.lang.trim([el.className,className].join(" ")),!0)},Y.Dom,!0)},removeClass:function(el,className){var re=getClassRegEx(className);return Y.Dom.batch(el,function(el){var c;return!(!className||!this.hasClass(el,className)||(c=el.className,el.className=c.replace(re," "),this.hasClass(el,className)&&this.removeClass(el,className),el.className=YAHOO.lang.trim(el.className),0))},Y.Dom,!0)},replaceClass:function(el,oldClassName,newClassName){var re;return!(!newClassName||oldClassName===newClassName)&&(re=getClassRegEx(oldClassName),Y.Dom.batch(el,function(el){return this.hasClass(el,oldClassName)?(el.className=el.className.replace(re," "+newClassName+" "),this.hasClass(el,oldClassName)&&this.replaceClass(el,oldClassName,newClassName),el.className=YAHOO.lang.trim(el.className)):this.addClass(el,newClassName),!0},Y.Dom,!0))},generateId:function(el,prefix){prefix=prefix||"yui-gen";var f=function(el){var id;return el&&el.id?el.id:(id=prefix+YAHOO.env._id_counter++,el&&(el.id=id),id)};return Y.Dom.batch(el,f,Y.Dom,!0)||f.apply(Y.Dom,arguments)},isAncestor:function(haystack,needle){return haystack=Y.Dom.get(haystack),needle=Y.Dom.get(needle),!(!haystack||!needle)&&(haystack.contains&&needle.nodeType&&!isSafari?haystack.contains(needle):haystack.compareDocumentPosition&&needle.nodeType?!!(16&haystack.compareDocumentPosition(needle)):!!needle.nodeType&&!!this.getAncestorBy(needle,function(el){return el==haystack}))},inDocument:function(el){return this.isAncestor(document.documentElement,el)},getElementsBy:function(method,tag,root,apply){if(tag=tag||"*",!(root=root?Y.Dom.get(root):document))return[];for(var nodes=[],elements=root.getElementsByTagName(tag),i=0,len=elements.length;i<len;++i)method(elements[i])&&(nodes[nodes.length]=elements[i],apply)&&apply(elements[i]);return nodes},batch:function(el,method,o,override){if(!(el=el&&(el.tagName||el.item)?el:Y.Dom.get(el))||!method)return!1;var scope=override?o:window;if(el.tagName||el.length===undefined)return method.call(scope,el,o);for(var collection=[],i=0,len=el.length;i<len;++i)collection[collection.length]=method.call(scope,el[i],o);return collection},getDocumentHeight:function(){var scrollHeight=("CSS1Compat"!=document.compatMode?document.body:document.documentElement).scrollHeight;return Math.max(scrollHeight,Y.Dom.getViewportHeight())},getDocumentWidth:function(){var scrollWidth=("CSS1Compat"!=document.compatMode?document.body:document.documentElement).scrollWidth;return Math.max(scrollWidth,Y.Dom.getViewportWidth())},getViewportHeight:function(){var height=self.innerHeight,mode=document.compatMode;return height=!mode&&!isIE||isOpera?height:("CSS1Compat"==mode?document.documentElement:document.body).clientHeight},getViewportWidth:function(){var width=self.innerWidth,mode=document.compatMode;return width=mode||isIE?("CSS1Compat"==mode?document.documentElement:document.body).clientWidth:width},getAncestorBy:function(node,method){for(;node=node.parentNode;)if(testElement(node,method))return node;return null},getAncestorByClassName:function(node,className){return(node=Y.Dom.get(node))?Y.Dom.getAncestorBy(node,function(el){return Y.Dom.hasClass(el,className)}):null},getAncestorByTagName:function(node,tagName){return(node=Y.Dom.get(node))?Y.Dom.getAncestorBy(node,function(el){return el.tagName&&el.tagName.toUpperCase()==tagName.toUpperCase()}):null},getPreviousSiblingBy:function(node,method){for(;node;)if(node=node.previousSibling,testElement(node,method))return node;return null},getPreviousSibling:function(node){return(node=Y.Dom.get(node))?Y.Dom.getPreviousSiblingBy(node):null},getNextSiblingBy:function(node,method){for(;node;)if(node=node.nextSibling,testElement(node,method))return node;return null},getNextSibling:function(node){return(node=Y.Dom.get(node))?Y.Dom.getNextSiblingBy(node):null},getFirstChildBy:function(node,method){return(testElement(node.firstChild,method)?node.firstChild:null)||Y.Dom.getNextSiblingBy(node.firstChild,method)},getFirstChild:function(node,method){return(node=Y.Dom.get(node))?Y.Dom.getFirstChildBy(node):null},getLastChildBy:function(node,method){return node?(testElement(node.lastChild,method)?node.lastChild:null)||Y.Dom.getPreviousSiblingBy(node.lastChild,method):null},getLastChild:function(node){return node=Y.Dom.get(node),Y.Dom.getLastChildBy(node)},getChildrenBy:function(node,method){var child=Y.Dom.getFirstChildBy(node,method),children=child?[child]:[];return Y.Dom.getNextSiblingBy(child,function(node){return method&&!method(node)||(children[children.length]=node),!1}),children},getChildren:function(node){return node=Y.Dom.get(node),Y.Dom.getChildrenBy(node)},getDocumentScrollLeft:function(doc){return doc=doc||document,Math.max(doc.documentElement.scrollLeft,doc.body.scrollLeft)},getDocumentScrollTop:function(doc){return doc=doc||document,Math.max(doc.documentElement.scrollTop,doc.body.scrollTop)},insertBefore:function(newNode,referenceNode){return newNode=Y.Dom.get(newNode),referenceNode=Y.Dom.get(referenceNode),newNode&&referenceNode&&referenceNode.parentNode?referenceNode.parentNode.insertBefore(newNode,referenceNode):null},insertAfter:function(newNode,referenceNode){return newNode=Y.Dom.get(newNode),referenceNode=Y.Dom.get(referenceNode),newNode&&referenceNode&&referenceNode.parentNode?referenceNode.nextSibling?referenceNode.parentNode.insertBefore(newNode,referenceNode.nextSibling):referenceNode.parentNode.appendChild(newNode):null},getClientRegion:function(){var t=Y.Dom.getDocumentScrollTop(),l=Y.Dom.getDocumentScrollLeft(),r=Y.Dom.getViewportWidth()+l,b=Y.Dom.getViewportHeight()+t;return new Y.Region(t,r,b,l)}},getXY=document.documentElement.getBoundingClientRect?function(el){var box=el.getBoundingClientRect(),rootNode=el.ownerDocument;return[box.left+Y.Dom.getDocumentScrollLeft(rootNode),box.top+Y.Dom.getDocumentScrollTop(rootNode)]}:function(el){var pos=[el.offsetLeft,el.offsetTop],parentNode=el.offsetParent,accountForBody=isSafari&&"absolute"==Y.Dom.getStyle(el,"position")&&el.offsetParent==el.ownerDocument.body;if(parentNode!=el)for(;parentNode;)pos[0]+=parentNode.offsetLeft,pos[1]+=parentNode.offsetTop,!accountForBody&&isSafari&&"absolute"==Y.Dom.getStyle(parentNode,"position")&&(accountForBody=!0),parentNode=parentNode.offsetParent;for(accountForBody&&(pos[0]-=el.ownerDocument.body.offsetLeft,pos[1]-=el.ownerDocument.body.offsetTop),parentNode=el.parentNode;parentNode.tagName&&!patterns.ROOT_TAG.test(parentNode.tagName);)Y.Dom.getStyle(parentNode,"display").search(/^inline|table-row.*$/i)&&(pos[0]-=parentNode.scrollLeft,pos[1]-=parentNode.scrollTop),parentNode=parentNode.parentNode;return pos},YAHOO.util.Region=function(t,r,b,l){this.top=t,this[1]=t,this.right=r,this.bottom=b,this.left=l,this[0]=l},YAHOO.util.Region.prototype.contains=function(region){return region.left>=this.left&&region.right<=this.right&&region.top>=this.top&&region.bottom<=this.bottom},YAHOO.util.Region.prototype.getArea=function(){return(this.bottom-this.top)*(this.right-this.left)},YAHOO.util.Region.prototype.intersect=function(region){var t=Math.max(this.top,region.top),r=Math.min(this.right,region.right),b=Math.min(this.bottom,region.bottom),l=Math.max(this.left,region.left);return t<=b&&l<=r?new YAHOO.util.Region(t,r,b,l):null},YAHOO.util.Region.prototype.union=function(region){var t=Math.min(this.top,region.top),r=Math.max(this.right,region.right),b=Math.max(this.bottom,region.bottom),l=Math.min(this.left,region.left);return new YAHOO.util.Region(t,r,b,l)},YAHOO.util.Region.prototype.toString=function(){return"Region {top: "+this.top+", right: "+this.right+", bottom: "+this.bottom+", left: "+this.left+"}"},YAHOO.util.Region.getRegion=function(el){var p=YAHOO.util.Dom.getXY(el),t=p[1],r=p[0]+el.offsetWidth,b=p[1]+el.offsetHeight,p=p[0];return new YAHOO.util.Region(t,r,b,p)},YAHOO.util.Point=function(x,y){YAHOO.lang.isArray(x)&&(y=x[1],x=x[0]),this.x=this.right=this.left=this[0]=x,this.y=this.top=this.bottom=this[1]=y},YAHOO.util.Point.prototype=new YAHOO.util.Region,YAHOO.register("dom",YAHOO.util.Dom,{version:"2.5.0",build:"895"});